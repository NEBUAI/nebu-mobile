# LiveKit Server Configuration for Nebu Mobile Development
# ==============================================

# Basic server configuration
port: 7880
bind_addresses:
  - ""

# API keys for development (change in production!)
keys:
  nebu-dev: nebu-dev-secret-key-2024
  
# Redis configuration for clustering (optional for single instance)
redis:
  address: redis:6379
  
# RTC configuration
rtc:
  # ICE servers configuration
  ice_servers:
    - urls: 
        - "stun:stun.l.google.com:19302"
        - "stun:stun1.l.google.com:19302"
  
  # UDP port range for WebRTC
  port_range_start: 50000
  port_range_end: 50200
  
  # Use external IP for ICE candidates (set to your server IP in production)
  use_external_ip: false
  
# Room configuration
room:
  # Auto-create rooms when clients try to join non-existent rooms
  auto_create: true
  
  # Maximum number of participants per room (0 = unlimited)
  max_participants: 50
  
  # Room timeout in seconds (0 = no timeout)
  empty_timeout: 300
  
# Audio configuration
audio:
  # Audio codecs in order of preference
  codecs:
    - mime: "audio/opus"
    - mime: "audio/red"
    - mime: "audio/PCMU"
    - mime: "audio/PCMA"

# Video configuration  
video:
  # Video codecs in order of preference
  codecs:
    - mime: "video/H264"
      fmtp_line: "level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"
    - mime: "video/VP8"
    - mime: "video/VP9"

# Logging configuration
logging:
  level: info
  # In development, log to console
  outputs:
    - console
    
# Development settings
development: true

# Webhook configuration (optional)
# webhook:
#   urls:
#     - "http://backend:3001/api/v1/livekit/webhook"
#   api_key: nebu-dev

# Turn off some security features for development
disable_strict_transport: true

# Region configuration (for distributed deployments)
region: local

# Node configuration
node_id: nebu-livekit-dev
